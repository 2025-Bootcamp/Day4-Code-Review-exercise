# Code Review 练习 - 代码坏味道示例

这个项目包含了多种常见的代码坏味道示例，用于Code Review练习。每个文件都专注于展示一种特定的代码质量问题。

## Java 代码坏味道

### 1. `LongMethod.java` - 过长方法
- **问题**: 方法超过50行，包含过多的逻辑
- **影响**: 难以理解、测试和维护
- **重构建议**: 提取方法，分解为更小的功能单元

### 2. `CodeDuplication.java` - 代码重复
- **问题**: 存在几乎相同的代码片段
- **影响**: 维护困难，修改时需要更新多个地方
- **重构建议**: 提取公共方法，使用继承或组合

### 3. `MagicNumbers.java` - 魔法数字
- **问题**: 代码中直接使用数字，没有常量定义
- **影响**: 难以理解数字的含义，修改困难
- **重构建议**: 定义常量，使用枚举或配置

### 4. `PoorNaming.java` - 命名不当
- **问题**: 使用单字母变量名、缩写、不清晰的方法名
- **影响**: 代码可读性差，难以理解
- **重构建议**: 使用描述性的名称，遵循命名约定

### 5. `LongParameterList.java` - 过长参数列表
- **问题**: 方法参数过多（超过5个）
- **影响**: 调用复杂，难以理解
- **重构建议**: 使用参数对象、建造者模式或分解方法

### 6. `DataClass.java` - 数据类
- **问题**: 只有数据字段，没有行为
- **影响**: 违反面向对象原则，缺乏封装
- **重构建议**: 添加行为方法，使用getter/setter

### 7. `DeepNesting.java` - 过深嵌套
- **问题**: 嵌套层次过深（超过3层）
- **影响**: 代码难以阅读和理解
- **重构建议**: 提取方法，使用早期返回，减少嵌套

### 8. `CommentedCode.java` - 注释掉的代码
- **问题**: 保留不再使用的代码
- **影响**: 代码混乱，可能误导开发者
- **重构建议**: 删除注释代码，使用版本控制管理

### 9. `InconsistentNaming.java` - 不一致的命名约定
- **问题**: 混合使用不同的命名风格
- **影响**: 代码风格不统一，可读性差
- **重构建议**: 统一命名约定，使用代码格式化工具

### 10. `HardcodedStrings.java` - 硬编码字符串
- **问题**: 字符串直接写在代码中
- **影响**: 难以维护，国际化困难
- **重构建议**: 使用常量、配置文件或资源文件

## JavaScript 代码坏味道

### 1. `longFunction.js` - 过长函数
- **问题**: 函数超过50行，包含过多逻辑
- **影响**: 难以理解、测试和维护
- **重构建议**: 提取函数，分解为更小的功能单元

### 2. `codeDuplication.js` - 代码重复
- **问题**: 存在几乎相同的函数
- **影响**: 维护困难，修改时需要更新多个地方
- **重构建议**: 提取公共函数，使用模块化

### 3. `magicNumbers.js` - 魔法数字
- **问题**: 代码中直接使用数字，没有常量定义
- **影响**: 难以理解数字的含义，修改困难
- **重构建议**: 定义常量，使用配置对象

### 4. `poorNaming.js` - 命名不当
- **问题**: 使用单字母变量名、缩写、不清晰的函数名
- **影响**: 代码可读性差，难以理解
- **重构建议**: 使用描述性的名称，遵循命名约定

### 5. `longParameterList.js` - 过长参数列表
- **问题**: 函数参数过多（超过5个）
- **影响**: 调用复杂，难以理解
- **重构建议**: 使用参数对象、默认参数或分解函数

### 6. `dataClass.js` - 数据类
- **问题**: 只有数据字段，没有行为
- **影响**: 违反面向对象原则，缺乏封装
- **重构建议**: 添加方法，使用getter/setter

### 7. `deepNesting.js` - 过深嵌套
- **问题**: 嵌套层次过深（超过3层）
- **影响**: 代码难以阅读和理解
- **重构建议**: 提取函数，使用早期返回，减少嵌套

### 8. `commentedCode.js` - 注释掉的代码
- **问题**: 保留不再使用的代码
- **影响**: 代码混乱，可能误导开发者
- **重构建议**: 删除注释代码，使用版本控制管理

### 9. `inconsistentNaming.js` - 不一致的命名约定
- **问题**: 混合使用不同的命名风格
- **影响**: 代码风格不统一，可读性差
- **重构建议**: 统一命名约定，使用ESLint等工具

### 10. `hardcodedStrings.js` - 硬编码字符串
- **问题**: 字符串直接写在代码中
- **影响**: 难以维护，国际化困难
- **重构建议**: 使用常量、配置文件或国际化库

### 11. `globalVariables.js` - 全局变量污染
- **问题**: 使用var声明全局变量
- **影响**: 命名空间污染，难以追踪状态变化
- **重构建议**: 使用模块化，避免全局变量

### 12. `callbackHell.js` - 回调地狱
- **问题**: 多层嵌套的回调函数
- **影响**: 代码难以阅读和维护
- **重构建议**: 使用Promise、async/await或函数式编程

### 13. `mixedStyle.js` - 不一致的代码风格
- **问题**: 混合使用不同的代码风格
- **影响**: 代码风格不统一，可读性差
- **重构建议**: 使用Prettier、ESLint等工具统一代码风格

### 14. `deadCode.js` - 死代码
- **问题**: 永远不会执行的代码
- **影响**: 代码混乱，可能误导开发者
- **重构建议**: 删除死代码，使用代码覆盖率工具

### 15. `longLine.js` - 过长的行
- **问题**: 超过推荐的行长度限制
- **影响**: 难以阅读，在小屏幕上显示困难
- **重构建议**: 换行，提取变量，使用模板字符串

## 练习流程

### 小组练习流程（20分钟）

1. **项目准备** (2分钟)
   - 每个小组长 fork 本项目到自己的 GitHub 账号
   - 小组成员熟悉项目结构和代码坏味道类型

2. **轮流讲解** (15分钟)
   - 小组每个成员轮流选择一个坏味道文件
   - 讲解者分析代码中的坏味道问题
   - 提出自己的修改建议和重构方案
   - 小组其他成员进行补充和改进建议
   - 讨论最佳实践和重构技巧

3. **总结记录** (3分钟)
   - 每个小组形成一个改进清单
   - 将改进建议记录到 GitHub Issue 中
- 使用提供的 Issue 模板（详细版或快速版）

### 个人练习建议

1. **逐个分析**: 选择一个文件，分析其中的代码坏味道
2. **识别问题**: 指出具体的代码问题及其影响
3. **提出建议**: 给出具体的重构建议和最佳实践
4. **实际重构**: 尝试重构代码，消除坏味道
5. **对比分析**: 比较重构前后的代码质量

## 学习目标

- 识别常见的代码坏味道
- 理解每种坏味道的影响和危害
- 掌握相应的重构技巧和最佳实践
- 提高代码审查能力
- 培养编写高质量代码的习惯

## Issue 模板使用

### 详细版模板 (`code-review-improvement.md`)
- 适用于深入分析和详细记录
- 包含完整的问题分析、改进建议和实施计划
- 适合作为学习记录和团队讨论总结

### 快速版模板 (`quick-improvement.md`)
- 适用于快速记录和简单改进
- 包含问题检查和基本改进建议
- 适合练习过程中的快速记录

### 使用步骤
1. 在 GitHub 仓库中点击 "Issues" 标签
2. 点击 "New issue" 按钮
3. 选择相应的模板
4. 填写相关信息
5. 提交 Issue

## 注意事项

- 这些示例故意包含代码坏味道，仅用于学习目的
- 在实际项目中应该避免这些做法
- 重构时要注意保持功能不变
- 建议使用自动化工具辅助代码质量检查
- 练习时间控制在20分钟内，确保讨论效率
